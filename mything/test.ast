[Para [Str "{{TNT|Outdated}}",SoftBreak,Str "MediaWiki",Space,Str "stores",Space,Str "some",Space,Str "data",Space,Str "in",Space,Str "the",Space,Str "local",Space,Str "filesystem.",Space,Str "If",Space,Str "you",Space,Str "were",Space,Str "to",Space,Str "use",Space,Str "[[webserver",Space,Str "clustering]]",Space,Str "to",Space,Str "serve",Space,Str "a",Space,Str "big",Space,Str "wiki,",Space,Str "you'd",Space,Str "want",Space,Str "to",Space,Str "take",Space,Str "this",Space,Str "into",Space,Str "account."]
,Para [Str "==User-accessible",Space,Str "files==",SoftBreak,Str "===[[:m:Help:Images",Space,Str "and",Space,Str "other",Space,Str "uploaded",Space,Str "files|Uploaded",Space,Str "media",Space,Str "files]]===",SoftBreak,Str "These",Space,Str "go",Space,Str "into",Space,Str "a",Space,Str "directory",Space,Str "specified",Space,Str "by",Space,Str "[[Manual:LocalSettings.php|LocalSettings.php]],",Space,Str "which",Space,Str "is",Space,Str "usually",Space,Str "called",Space,Str "\"",RawInline (Format "html") "<code>",Str "upload",RawInline (Format "html") "</code>",Str "\".",Space,Str "Filenames",Space,Str "are",Space,Str "[[w:MD5|MD5]]-hashed,",Space,Str "and",Space,Str "since",Space,Str "many",Space,Str "filesystems",Space,Str "don't",Space,Str "handle",Space,Str "large",Space,Str "directories",Space,Str "well,",Space,Str "uploads",Space,Str "are",Space,Str "broken",Space,Str "into",Space,Str "subdirectories",Space,Str "with",Space,Str "the",Space,Str "first",Space,Str "and",Space,Str "first",Space,Str "two",Space,Str "hex",Space,Str "digits",Space,Str "of",Space,Str "the",Space,Str "hash,",Space,Str "e.g.:"]
,Para [Emph [Str "[http://meta.wikipedia.org/upload/7/79/Wikicontestlogo598932.jpg",Space,Str "upload/7/79/Wikicontestlogo598932.jpg]",SoftBreak],Str "[http://meta.wikipedia.org/upload/a/a6/Stygian_Wiki_Logo_Proto_Grey.png",Space,Str "upload/a/a6/Stygian_Wiki_Logo_Proto_Grey.png]",SoftBreak,Str "*[http://meta.wikipedia.org/upload/f/fb/Wikipedia_sub.jpg",Space,Str "upload/f/fb/Wikipedia_sub.jpg]"]
,Para [Str "'''Security",Space,Str "note:'''",Space,Str "Even",Space,Str "though",Space,Str "the",Space,Str "upload",Space,Str "system",Space,Str "contains",Space,Str "a",Space,Str "[[:m:Upload#Uploading_non-image_files|filetype",Space,Str "blacklist]],",Space,Str "you",Space,Str "should",Space,Str "ensure",Space,Str "that",Space,Str "your",Space,Str "webserver",Space,Str "is",Space,Str "not",Space,Str "configured",Space,Str "to",Space,Str "execute",Space,Str "PHP",Space,Str "or",Space,Str "CGI",Space,Str "scripts",Space,Str "in",Space,Str "the",Space,Str "upload",Space,Str "directory,",Space,Str "just",Space,Str "in",Space,Str "case.",Space,Str "Other",Space,Str "filetypes",Space,Str "may",Space,Str "be",Space,Str "unsafe",Space,Str "downloads",Space,Str "for",Space,Str "some",Space,Str "client",Space,Str "systems."]
,Plain [Str "Note.",Space,Str "To",Space,Str "add",Space,Str "a",Space,Str "direct",Space,Str "link",Space,Str "to",Space,Str "a",Space,Str "file",Space,Str "you",Space,Str "can",Space,Str "use",Space,Str "the",Space,Str "following",Space,Str "syntax:"]
,RawBlock (Format "html") "<pre>{{filepath:file name}}</pre>"
,Para [Str "For",Space,Str "example:",Space,RawInline (Format "html") "<code>",RawInline (Format "html") "<nowiki>",Str "{{filepath:Wiki.png}}",RawInline (Format "html") "</nowiki>",RawInline (Format "html") "</code>",Space,Str "\8594",Space,Str "{{filepath:Wiki.png}}."]
,Para [Str "See",Space,Str "also:",Space,Str "[[Help:Variables#URL",Space,Str "data]]."]
,Para [Str "===Archived",Space,Str "uploads===",SoftBreak,Str "When",Space,Str "a",Space,Str "new",Space,Str "version",Space,Str "of",Space,Str "a",Space,Str "file",Space,Str "is",Space,Str "uploaded,",Space,Str "the",Space,Str "old",Space,Str "one",Space,Str "is",Space,Str "moved",Space,Str "into",Space,Str "the",Space,RawInline (Format "html") "<code>",Str "upload/archive",Space,Str "directory",RawInline (Format "html") "</code>",Str ",",Space,Str "with",Space,Str "its",Space,Str "timestamp",Space,Str "and",Space,Str "\"!\"",Space,Str "prepended.",Space,Str "Again,",Space,Str "hash",Space,Str "subdirs",Space,Str "are",Space,Str "used:",SoftBreak,Emph [Str "[http://meta.wikipedia.org/upload/8/85/Edit_this_page_intl.png",Space,Str "upload/8/85/Edit_this_page_intl.png]",Space,Str "-",Space,Str "current",Space,Str "revision",SoftBreak],Str "[http://meta.wikipedia.org/upload/archive/8/85/20030628125544!Edit_this_page_intl.png",Space,Str "upload/archive/8/85/20030628125544!Edit_this_page_intl.png]",Space,Str "-",Space,Str "archived",Space,Str "revision"]
,Para [Str "===Rasterized",Space,Str "TeX===",SoftBreak,Str "[[texvc]]",Space,Str "generates",Space,Str "rasterized",Space,Str "PNG",Space,Str "images",Space,Str "from",Space,Str "inline",Space,Str "TeX",Space,Str "code",Space,Str "(if",Space,Str "this",Space,Str "option",Space,Str "is",Space,Str "enabled).",Space,Str "These",Space,Str "are",Space,Str "dumped",Space,Str "in",Space,Str "a",Space,Str "web-accessible",Space,Str "[[Manual:LocalSettings.php|LocalSettings.php]]-specified",Space,Str "directory,",Space,Str "usually",Space,Str "called",Space,Str "\"math\"."]
,Para [Str "The",Space,Str "filename",Space,Str "is",Space,Str "the",Space,Str "hex",Space,Str "MD5",Space,Str "hash",Space,Str "of",Space,Str "the",Space,Str "normalized",Space,Str "TeX",Space,Str "input,",Space,Str "plus",Space,Str "\".png\":",SoftBreak,Str "*[http://meta.wikipedia.org/math/47e7849b634fe4487aaf981b32825e18.png",Space,Str "math/47e7849b634fe4487aaf981b32825e18.png]"]
,Para [Str "These",Space,Str "files",Space,Str "just",Space,Str "accumulate,",Space,Str "and",Space,Str "are",Space,Str "not",Space,Str "automatically",Space,Str "removed",Space,Str "if",Space,Str "the",Space,Str "equations",Space,Str "they",Space,Str "represent",Space,Str "are",Space,Str "removed",Space,Str "from",Space,Str "articles",Space,Str "(or",Space,Str "existed",Space,Str "only",Space,Str "during",Space,Str "preview",Space,Str "rendering)."]
,Para [Str "The",Space,Str "images",Space,Str "can",Space,Str "be",Space,Str "manually",Space,Str "deleted,",Space,Str "since",Space,Str "the",Space,Str "wiki",Space,Str "can",Space,Str "regenerate",Space,Str "them,",Space,Str "but",Space,Str "if",Space,Str "you",Space,Str "do",Space,Str "you'll",Space,Str "want",Space,Str "to",Space,Str "fix",Space,Str "the",Space,Str "database",Space,Str "as",Space,Str "well:",SoftBreak,Str "*",Space,Str "Clear",Space,Str "the",Space,Str "affected",Space,Str "entries",Space,Str "in",Space,Str "the",Space,Str "[[math",Space,Str "table]],",Space,Str "or",Space,Str "the",Space,Str "wiki",Space,Str "will",Space,Str "think",Space,Str "it's",Space,Str "already",Space,Str "rendered",Space,Str "those",Space,Str "bits",SoftBreak,Strong [Str "''TODO:",Space,Str "doublecheck",Space,Str "that",Space,Str "the",Space,Str "file",Space,Str "exists",Space,Str "before",Space,Str "deciding",Space,Str "that",Space,Str "an",Space,Str "entry",Space,Str "in",Space,Str "the",Space,Str "math",Space,Str "table",Space,Str "is",Space,Str "valid''",SoftBreak,Str "*",Space,Str "If",Space,Str "using",Space,Str "[[file",Space,Str "cache|file",Space,Str "caching]],",Space,Str "do",Space,Str "one",Space,Str "of",Space,Str "the",Space,Str "following",Space,Str "to",Space,Str "invalidate",Space,Str "the",Space,Str "cached",Space,Str "pages",Space,Str "or",Space,Str "visits",Space,Str "by",Space,Str "anon",Space,Str "users",Space,Str "won't",Space,Str "trigger",Space,Str "regeneration",Space,Str "of",Space,Str "the",Space,Str "images:",SoftBreak],Space,Str "remove",Space,Str "all",Space,Str "(affected)",Space,Str "pages",Space,Str "from",Space,Str "the",Space,Str "cache",Space,Str "(consider",Space,Str "grep)",SoftBreak,Str "**",Space,Str "Update",Space,Str "cur_touched",Space,Str "fields",Space,Str "to",Space,Str "present",Space,Str "time",Space,Str "for",Space,Str "affected",Space,Str "entries",Space,Str "(check",Space,Str "for",Space,Str "\"<math>\"",Space,Str "in",Space,Str "cur_text)",SoftBreak,Str "**",Space,Str "Update",Space,Str "the",Space,Str "global",Space,Str "$wgCacheEpoch",Space,Str "timestamp",Space,Str "in",Space,Str "LocalSettings,",Space,Str "forcing",Space,Str "all",Space,Str "cached",Space,Str "pages",Space,Str "to",Space,Str "be",Space,Str "regenerated",Space,Str "without",Space,Str "going",Space,Str "to",Space,Str "the",Space,Str "bother",Space,Str "of",Space,Str "deleting",Space,Str "anything."]
,Para [Str "==Semi-private",Space,Str "files==",SoftBreak,Str "===File",Space,Str "cache==="]
,Para [Str "Optionally,",Space,Str "rendered",Space,Str "HTML",Space,Str "pages",Space,Str "may",Space,Str "be",Space,Str "kept",Space,Str "in",Space,Str "a",Space,Str "cache",Space,Str "directory",Space,Str "and",Space,Str "served",Space,Str "to",Space,Str "anonymous",Space,Str "visitors.",Space,Str "See",Space,Str "more",Space,Str "details",Space,Str "at",Space,Str "[[Manual:File",Space,Str "cache|File",Space,Str "cache]]."]
,Para [Str "===Read-only",Space,Str "lock",Space,Str "file===",SoftBreak,Str "The",Space,Str "developer",Space,Str "\"Make",Space,Str "database",Space,Str "read-only\"",Space,Str "function",Space,Str "writes",Space,Str "a",Space,Str "lock",Space,Str "file,",Space,Str "whose",Space,Str "name",Space,Str "and",Space,Str "location",Space,Str "may",Space,Str "be",Space,Str "specified",Space,Str "in",Space,Str "[[Manual:LocalSettings.php|LocalSettings.php]].",Space,Str "If",Space,Str "the",Space,Str "file",Space,Str "exists,",Space,Str "the",Space,Str "wiki",Space,Str "will",Space,Str "(hopefully)",Space,Str "avoid",Space,Str "operations",Space,Str "which",Space,Str "write",Space,Str "to",Space,Str "the",Space,Str "database.",Space,Str "The",Space,Str "contents",Space,Str "of",Space,Str "the",Space,Str "file",Space,Str "are",Space,Str "a",Space,Str "message",Space,Str "to",Space,Str "be",Space,Str "displayed",Space,Str "to",Space,Str "the",Space,Str "poor",Space,Str "users",Space,Str "experiencing",Space,Str "the",Space,Str "editing",Space,Str "lockout."]
,Para [Str "It",Space,Str "need",Space,Str "not",Space,Str "be",Space,Str "web-shared,",Space,Str "but",Space,Str "it",Space,Str "shouldn't",Space,Str "be",Space,Str "a",Space,Str "security",Space,Str "risk",Space,Str "to",Space,Str "do",Space,Str "so.",Space,Str "The",Space,Str "default",Space,Str "location",Space,Str "is",Space,Str "in",Space,Str "the",Space,Str "upload",Space,Str "directory."]
,Para [Str "===TeX",Space,Str "temporary",Space,Str "files===",SoftBreak,Str "TeX",Space,Str "rendering",Space,Str "requires",Space,Str "a",Space,Str "temporary",Space,Str "directory",Space,Str "to",Space,Str "store",Space,Str "intermediate",Space,Str "files.",Space,Str "It",Space,Str "need",Space,Str "not",Space,Str "be",Space,Str "web-shared,",Space,Str "but",Space,Str "it",Space,Str "shouldn't",Space,Str "be",Space,Str "a",Space,Str "security",Space,Str "risk",Space,Str "to",Space,Str "do",Space,Str "so.",Space,Str "These",Space,Str "files",Space,Str "are",Space,Str "only",Space,Str "used",Space,Str "during",Space,Str "the",Space,Str "course",Space,Str "of",Space,Str "producing",Space,Str "the",Space,Str "rasterized",Space,Str "PNG",Space,Str "files,",Space,Str "and",Space,Str "need",Space,Str "not",Space,Str "be",Space,Str "kept",Space,Str "or",Space,Str "shared."]
,Para [Str "==Private",Space,Str "files==",SoftBreak,Str "===Debug",Space,Str "log===",SoftBreak,Str "One",Space,Str "may",Space,Str "optionally",Space,Str "[[Manual:$wgDebugLogFile|enable",Space,Str "a",Space,Str "debug",Space,Str "log]],",Space,Str "which",Space,Str "prints",Space,Str "all",Space,Str "kinds",Space,Str "of",Space,Str "annoying",Space,Str "messages.",Space,Str "It",Space,Str "should",Space,Str "not",Space,Str "generally",Space,Str "be",Space,Str "left",Space,Str "on,",Space,Str "as",Space,Str "this",Space,Str "will",Space,Str "waste",Space,Str "time",Space,Str "and",Space,Str "space.",Space,Str "The",Space,Str "debug",Space,Str "log",Space,Str "includes",Space,Str "URLs",Space,Str "of",Space,Str "all",Space,Str "requests",Space,Str "to",Space,Str "the",Space,Str "wiki",Space,Str "and",Space,Str "sometimes",Space,Str "IP",Space,Str "addresses,",Space,Str "so",Space,Str "you",Space,Str "may",Space,Str "not",Space,Str "want",Space,Str "to",Space,Str "make",Space,Str "it",Space,Str "publicly",Space,Str "available."]
,Para [Str "===Session",Space,Str "data===",SoftBreak,Str "A",Space,Str "little",Space,Str "bit",Space,Str "of",Space,Str "data",Space,Str "for",Space,Str "login",Space,Str "sessions",Space,Str "is",Space,Str "handled",Space,Str "by",Space,Str "[http://www.php.net/session",Space,Str "PHP's",Space,Str "session",Space,Str "handling].",Space,Str "This",Space,Str "stores",Space,Str "a",Space,Str "bunch",Space,Str "of",Space,Str "small",Space,Str "files",Space,Str "in",Space,Str "the",Space,Str "/tmp",Space,Str "directory;",Space,Str "you",Space,Str "can",Space,Str "probably",Space,Str "configure",Space,Str "PHP",Space,Str "to",Space,Str "store",Space,Str "them",Space,Str "elsewhere."]
,Para [Str "==See",Space,Str "also==",SoftBreak,Str "*",Space,Str "{{ll|Manual:Image",Space,Str "administration}}"]
,Para [Str "[[Category:MediaWiki",Space,Str "technical",Space,Str "documentation]]"]]
[RawBlock (Format "mediawiki") "{{TNT|Outdated}}"
,Para [Str "MediaWiki",Space,Str "stores",Space,Str "some",Space,Str "data",Space,Str "in",Space,Str "the",Space,Str "local",Space,Str "filesystem.",Space,Str "If",Space,Str "you",Space,Str "were",Space,Str "to",Space,Str "use",Space,Link ("",[],[]) [Str "webserver",Space,Str "clustering"] ("webserver_clustering","wikilink"),Space,Str "to",Space,Str "serve",Space,Str "a",Space,Str "big",Space,Str "wiki,",Space,Str "you'd",Space,Str "want",Space,Str "to",Space,Str "take",Space,Str "this",Space,Str "into",Space,Str "account."]
,Header 2 ("user-accessible-files",[],[]) [Str "User-accessible",Space,Str "files"]
,Header 3 ("uploaded-media-files",[],[]) [Link ("",[],[]) [Str "Uploaded",Space,Str "media",Space,Str "files"] (":m:Help:Images_and_other_uploaded_files","wikilink")]
,Para [Str "These",Space,Str "go",Space,Str "into",Space,Str "a",Space,Str "directory",Space,Str "specified",Space,Str "by",Space,Link ("",[],[]) [Str "LocalSettings.php"] ("Manual:LocalSettings.php","wikilink"),Str ",",Space,Str "which",Space,Str "is",Space,Str "usually",Space,Str "called",Space,Quoted DoubleQuote [Code ("",[],[]) "upload"],Str ".",Space,Str "Filenames",Space,Str "are",Space,Link ("",[],[]) [Str "MD5"] ("w:MD5","wikilink"),Str "-hashed,",Space,Str "and",Space,Str "since",Space,Str "many",Space,Str "filesystems",Space,Str "don't",Space,Str "handle",Space,Str "large",Space,Str "directories",Space,Str "well,",Space,Str "uploads",Space,Str "are",Space,Str "broken",Space,Str "into",Space,Str "subdirectories",Space,Str "with",Space,Str "the",Space,Str "first",Space,Str "and",Space,Str "first",Space,Str "two",Space,Str "hex",Space,Str "digits",Space,Str "of",Space,Str "the",Space,Str "hash,",Space,Str "e.g.:"]
,BulletList
 [[Plain [Link ("",[],[]) [Str "upload/7/79/Wikicontestlogo598932.jpg"] ("http://meta.wikipedia.org/upload/7/79/Wikicontestlogo598932.jpg","")]]
 ,[Plain [Link ("",[],[]) [Str "upload/a/a6/Stygian_Wiki_Logo_Proto_Grey.png"] ("http://meta.wikipedia.org/upload/a/a6/Stygian_Wiki_Logo_Proto_Grey.png","")]]
 ,[Plain [Link ("",[],[]) [Str "upload/f/fb/Wikipedia_sub.jpg"] ("http://meta.wikipedia.org/upload/f/fb/Wikipedia_sub.jpg","")]]]
,Para [Strong [Str "Security",Space,Str "note:"],Space,Str "Even",Space,Str "though",Space,Str "the",Space,Str "upload",Space,Str "system",Space,Str "contains",Space,Str "a",Space,Link ("",[],[]) [Str "filetype",Space,Str "blacklist"] (":m:Upload#Uploading_non-image_files","wikilink"),Str ",",Space,Str "you",Space,Str "should",Space,Str "ensure",Space,Str "that",Space,Str "your",Space,Str "webserver",Space,Str "is",Space,Str "not",Space,Str "configured",Space,Str "to",Space,Str "execute",Space,Str "PHP",Space,Str "or",Space,Str "CGI",Space,Str "scripts",Space,Str "in",Space,Str "the",Space,Str "upload",Space,Str "directory,",Space,Str "just",Space,Str "in",Space,Str "case.",Space,Str "Other",Space,Str "filetypes",Space,Str "may",Space,Str "be",Space,Str "unsafe",Space,Str "downloads",Space,Str "for",Space,Str "some",Space,Str "client",Space,Str "systems."]
,Para [Str "Note.",Space,Str "To",Space,Str "add",Space,Str "a",Space,Str "direct",Space,Str "link",Space,Str "to",Space,Str "a",Space,Str "file",Space,Str "you",Space,Str "can",Space,Str "use",Space,Str "the",Space,Str "following",Space,Str "syntax:"]
,CodeBlock ("",[],[]) "{{filepath:file name}}"
,Para [Str "For",Space,Str "example:",Space,Code ("",[],[]) "{{filepath:Wiki.png}}",Space,Str "\8594",Space,RawInline (Format "mediawiki") "{{filepath:Wiki.png}}",Str "."]
,Para [Str "See",Space,Str "also:",Space,Link ("",[],[]) [Str "Help:Variables#URL",Space,Str "data"] ("Help:Variables#URL_data","wikilink"),Str "."]
,Header 3 ("archived-uploads",[],[]) [Str "Archived",Space,Str "uploads"]
,Para [Str "When",Space,Str "a",Space,Str "new",Space,Str "version",Space,Str "of",Space,Str "a",Space,Str "file",Space,Str "is",Space,Str "uploaded,",Space,Str "the",Space,Str "old",Space,Str "one",Space,Str "is",Space,Str "moved",Space,Str "into",Space,Str "the",Space,Code ("",[],[]) "upload/archive directory",Str ",",Space,Str "with",Space,Str "its",Space,Str "timestamp",Space,Str "and",Space,Quoted DoubleQuote [Str "!"],Space,Str "prepended.",Space,Str "Again,",Space,Str "hash",Space,Str "subdirs",Space,Str "are",Space,Str "used:"]
,BulletList
 [[Plain [Link ("",[],[]) [Str "upload/8/85/Edit_this_page_intl.png"] ("http://meta.wikipedia.org/upload/8/85/Edit_this_page_intl.png",""),Space,Str "-",Space,Str "current",Space,Str "revision"]]
 ,[Plain [Link ("",[],[]) [Str "upload/archive/8/85/20030628125544!Edit_this_page_intl.png"] ("http://meta.wikipedia.org/upload/archive/8/85/20030628125544!Edit_this_page_intl.png",""),Space,Str "-",Space,Str "archived",Space,Str "revision"]]]
,Header 3 ("rasterized-tex",[],[]) [Str "Rasterized",Space,Str "TeX"]
,Para [Link ("",[],[]) [Str "texvc"] ("texvc","wikilink"),Space,Str "generates",Space,Str "rasterized",Space,Str "PNG",Space,Str "images",Space,Str "from",Space,Str "inline",Space,Str "TeX",Space,Str "code",Space,Str "(if",Space,Str "this",Space,Str "option",Space,Str "is",Space,Str "enabled).",Space,Str "These",Space,Str "are",Space,Str "dumped",Space,Str "in",Space,Str "a",Space,Str "web-accessible",Space,Link ("",[],[]) [Str "LocalSettings.php"] ("Manual:LocalSettings.php","wikilink"),Str "-specified",Space,Str "directory,",Space,Str "usually",Space,Str "called",Space,Quoted DoubleQuote [Str "math"],Str "."]
,Para [Str "The",Space,Str "filename",Space,Str "is",Space,Str "the",Space,Str "hex",Space,Str "MD5",Space,Str "hash",Space,Str "of",Space,Str "the",Space,Str "normalized",Space,Str "TeX",Space,Str "input,",Space,Str "plus",Space,Quoted DoubleQuote [Str ".png"],Str ":"]
,BulletList
 [[Plain [Link ("",[],[]) [Str "math/47e7849b634fe4487aaf981b32825e18.png"] ("http://meta.wikipedia.org/math/47e7849b634fe4487aaf981b32825e18.png","")]]]
,Para [Str "These",Space,Str "files",Space,Str "just",Space,Str "accumulate,",Space,Str "and",Space,Str "are",Space,Str "not",Space,Str "automatically",Space,Str "removed",Space,Str "if",Space,Str "the",Space,Str "equations",Space,Str "they",Space,Str "represent",Space,Str "are",Space,Str "removed",Space,Str "from",Space,Str "articles",Space,Str "(or",Space,Str "existed",Space,Str "only",Space,Str "during",Space,Str "preview",Space,Str "rendering)."]
,Para [Str "The",Space,Str "images",Space,Str "can",Space,Str "be",Space,Str "manually",Space,Str "deleted,",Space,Str "since",Space,Str "the",Space,Str "wiki",Space,Str "can",Space,Str "regenerate",Space,Str "them,",Space,Str "but",Space,Str "if",Space,Str "you",Space,Str "do",Space,Str "you'll",Space,Str "want",Space,Str "to",Space,Str "fix",Space,Str "the",Space,Str "database",Space,Str "as",Space,Str "well:"]
,BulletList
 [[Plain [Str "Clear",Space,Str "the",Space,Str "affected",Space,Str "entries",Space,Str "in",Space,Str "the",Space,Link ("",[],[]) [Str "math",Space,Str "table"] ("math_table","wikilink"),Str ",",Space,Str "or",Space,Str "the",Space,Str "wiki",Space,Str "will",Space,Str "think",Space,Str "it's",Space,Str "already",Space,Str "rendered",Space,Str "those",Space,Str "bits"]
  ,BulletList
   [[Plain [Emph [Str "TODO:",Space,Str "doublecheck",Space,Str "that",Space,Str "the",Space,Str "file",Space,Str "exists",Space,Str "before",Space,Str "deciding",Space,Str "that",Space,Str "an",Space,Str "entry",Space,Str "in",Space,Str "the",Space,Str "math",Space,Str "table",Space,Str "is",Space,Str "valid"]]]]]
 ,[Plain [Str "If",Space,Str "using",Space,Link ("",[],[]) [Str "file",Space,Str "caching"] ("file_cache","wikilink"),Str ",",Space,Str "do",Space,Str "one",Space,Str "of",Space,Str "the",Space,Str "following",Space,Str "to",Space,Str "invalidate",Space,Str "the",Space,Str "cached",Space,Str "pages",Space,Str "or",Space,Str "visits",Space,Str "by",Space,Str "anon",Space,Str "users",Space,Str "won't",Space,Str "trigger",Space,Str "regeneration",Space,Str "of",Space,Str "the",Space,Str "images:"]
  ,BulletList
   [[Plain [Str "remove",Space,Str "all",Space,Str "(affected)",Space,Str "pages",Space,Str "from",Space,Str "the",Space,Str "cache",Space,Str "(consider",Space,Str "grep)"]]
   ,[Plain [Str "Update",Space,Str "cur_touched",Space,Str "fields",Space,Str "to",Space,Str "present",Space,Str "time",Space,Str "for",Space,Str "affected",Space,Str "entries",Space,Str "(check",Space,Str "for",Space,Quoted DoubleQuote [Str "<math>"],Space,Str "in",Space,Str "cur_text)"]]
   ,[Plain [Str "Update",Space,Str "the",Space,Str "global",Space,Str "$wgCacheEpoch",Space,Str "timestamp",Space,Str "in",Space,Str "LocalSettings,",Space,Str "forcing",Space,Str "all",Space,Str "cached",Space,Str "pages",Space,Str "to",Space,Str "be",Space,Str "regenerated",Space,Str "without",Space,Str "going",Space,Str "to",Space,Str "the",Space,Str "bother",Space,Str "of",Space,Str "deleting",Space,Str "anything."]]]]]
,Header 2 ("semi-private-files",[],[]) [Str "Semi-private",Space,Str "files"]
,Header 3 ("file-cache",[],[]) [Str "File",Space,Str "cache"]
,Para [Str "Optionally,",Space,Str "rendered",Space,Str "HTML",Space,Str "pages",Space,Str "may",Space,Str "be",Space,Str "kept",Space,Str "in",Space,Str "a",Space,Str "cache",Space,Str "directory",Space,Str "and",Space,Str "served",Space,Str "to",Space,Str "anonymous",Space,Str "visitors.",Space,Str "See",Space,Str "more",Space,Str "details",Space,Str "at",Space,Link ("",[],[]) [Str "File",Space,Str "cache"] ("Manual:File_cache","wikilink"),Str "."]
,Header 3 ("read-only-lock-file",[],[]) [Str "Read-only",Space,Str "lock",Space,Str "file"]
,Para [Str "The",Space,Str "developer",Space,Quoted DoubleQuote [Str "Make",Space,Str "database",Space,Str "read-only"],Space,Str "function",Space,Str "writes",Space,Str "a",Space,Str "lock",Space,Str "file,",Space,Str "whose",Space,Str "name",Space,Str "and",Space,Str "location",Space,Str "may",Space,Str "be",Space,Str "specified",Space,Str "in",Space,Link ("",[],[]) [Str "LocalSettings.php"] ("Manual:LocalSettings.php","wikilink"),Str ".",Space,Str "If",Space,Str "the",Space,Str "file",Space,Str "exists,",Space,Str "the",Space,Str "wiki",Space,Str "will",Space,Str "(hopefully)",Space,Str "avoid",Space,Str "operations",Space,Str "which",Space,Str "write",Space,Str "to",Space,Str "the",Space,Str "database.",Space,Str "The",Space,Str "contents",Space,Str "of",Space,Str "the",Space,Str "file",Space,Str "are",Space,Str "a",Space,Str "message",Space,Str "to",Space,Str "be",Space,Str "displayed",Space,Str "to",Space,Str "the",Space,Str "poor",Space,Str "users",Space,Str "experiencing",Space,Str "the",Space,Str "editing",Space,Str "lockout."]
,Para [Str "It",Space,Str "need",Space,Str "not",Space,Str "be",Space,Str "web-shared,",Space,Str "but",Space,Str "it",Space,Str "shouldn't",Space,Str "be",Space,Str "a",Space,Str "security",Space,Str "risk",Space,Str "to",Space,Str "do",Space,Str "so.",Space,Str "The",Space,Str "default",Space,Str "location",Space,Str "is",Space,Str "in",Space,Str "the",Space,Str "upload",Space,Str "directory."]
,Header 3 ("tex-temporary-files",[],[]) [Str "TeX",Space,Str "temporary",Space,Str "files"]
,Para [Str "TeX",Space,Str "rendering",Space,Str "requires",Space,Str "a",Space,Str "temporary",Space,Str "directory",Space,Str "to",Space,Str "store",Space,Str "intermediate",Space,Str "files.",Space,Str "It",Space,Str "need",Space,Str "not",Space,Str "be",Space,Str "web-shared,",Space,Str "but",Space,Str "it",Space,Str "shouldn't",Space,Str "be",Space,Str "a",Space,Str "security",Space,Str "risk",Space,Str "to",Space,Str "do",Space,Str "so.",Space,Str "These",Space,Str "files",Space,Str "are",Space,Str "only",Space,Str "used",Space,Str "during",Space,Str "the",Space,Str "course",Space,Str "of",Space,Str "producing",Space,Str "the",Space,Str "rasterized",Space,Str "PNG",Space,Str "files,",Space,Str "and",Space,Str "need",Space,Str "not",Space,Str "be",Space,Str "kept",Space,Str "or",Space,Str "shared."]
,Header 2 ("private-files",[],[]) [Str "Private",Space,Str "files"]
,Header 3 ("debug-log",[],[]) [Str "Debug",Space,Str "log"]
,Para [Str "One",Space,Str "may",Space,Str "optionally",Space,Link ("",[],[]) [Str "enable",Space,Str "a",Space,Str "debug",Space,Str "log"] ("Manual:$wgDebugLogFile","wikilink"),Str ",",Space,Str "which",Space,Str "prints",Space,Str "all",Space,Str "kinds",Space,Str "of",Space,Str "annoying",Space,Str "messages.",Space,Str "It",Space,Str "should",Space,Str "not",Space,Str "generally",Space,Str "be",Space,Str "left",Space,Str "on,",Space,Str "as",Space,Str "this",Space,Str "will",Space,Str "waste",Space,Str "time",Space,Str "and",Space,Str "space.",Space,Str "The",Space,Str "debug",Space,Str "log",Space,Str "includes",Space,Str "URLs",Space,Str "of",Space,Str "all",Space,Str "requests",Space,Str "to",Space,Str "the",Space,Str "wiki",Space,Str "and",Space,Str "sometimes",Space,Str "IP",Space,Str "addresses,",Space,Str "so",Space,Str "you",Space,Str "may",Space,Str "not",Space,Str "want",Space,Str "to",Space,Str "make",Space,Str "it",Space,Str "publicly",Space,Str "available."]
,Header 3 ("session-data",[],[]) [Str "Session",Space,Str "data"]
,Para [Str "A",Space,Str "little",Space,Str "bit",Space,Str "of",Space,Str "data",Space,Str "for",Space,Str "login",Space,Str "sessions",Space,Str "is",Space,Str "handled",Space,Str "by",Space,Link ("",[],[]) [Str "PHP's",Space,Str "session",Space,Str "handling"] ("http://www.php.net/session",""),Str ".",Space,Str "This",Space,Str "stores",Space,Str "a",Space,Str "bunch",Space,Str "of",Space,Str "small",Space,Str "files",Space,Str "in",Space,Str "the",Space,Str "/tmp",Space,Str "directory;",Space,Str "you",Space,Str "can",Space,Str "probably",Space,Str "configure",Space,Str "PHP",Space,Str "to",Space,Str "store",Space,Str "them",Space,Str "elsewhere."]
,Header 2 ("see-also",[],[]) [Str "See",Space,Str "also"]
,BulletList
 [[RawBlock (Format "mediawiki") "{{ll|Manual:Image administration}}"]]
,Para [Link ("",[],[]) [Str "Category:MediaWiki",Space,Str "technical",Space,Str "documentation"] ("Category:MediaWiki_technical_documentation","wikilink")]]
